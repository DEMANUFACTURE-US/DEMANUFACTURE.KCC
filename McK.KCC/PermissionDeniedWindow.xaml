<Window x:Class="McK.KCC.PermissionDeniedWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Permission Denied" 
        Height="320" Width="480"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Icon="Resources/mckcircle.png"
        Background="{StaticResource BackgroundDarkBrush}">
    
    <Grid Margin="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <StackPanel Grid.Row="0" HorizontalAlignment="Center" Margin="0,0,0,20">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Border Width="48" Height="48" CornerRadius="8" Background="{StaticResource StatusErrorBackgroundBrush}">
                    <TextBlock Text="ðŸš«" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
                <StackPanel Margin="16,0,0,0" VerticalAlignment="Center">
                    <TextBlock Text="Permission Denied" FontSize="20" FontWeight="Bold" 
                               Foreground="{StaticResource ErrorBrush}"/>
                    <TextBlock Text="Unable to continue" Foreground="{StaticResource TextMutedBrush}" FontSize="12"/>
                </StackPanel>
            </StackPanel>
        </StackPanel>
        
        <!-- Message Content -->
        <Border Grid.Row="1" Style="{StaticResource CardBorder}" Margin="0,0,0,20">
            <StackPanel>
                <TextBlock Text="Insufficient Permissions" FontSize="14" FontWeight="SemiBold" 
                           Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,12"/>
                
                <TextBlock TextWrapping="Wrap" Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" LineHeight="22">
                    <Run>This application requires elevated permissions to modify the Windows registry. </Run>
                    <Run>All permission check stages have failed:</Run>
                </TextBlock>
                
                <StackPanel Margin="0,16,0,16">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                        <TextBlock Text="âœ—" Foreground="{StaticResource ErrorBrush}" FontSize="14" Width="20"/>
                        <TextBlock Text="Current user permissions" Foreground="{StaticResource TextSecondaryBrush}" FontSize="12"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                        <TextBlock Text="âœ—" Foreground="{StaticResource ErrorBrush}" FontSize="14" Width="20"/>
                        <TextBlock Text="Administrator privileges" Foreground="{StaticResource TextSecondaryBrush}" FontSize="12"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="âœ—" Foreground="{StaticResource ErrorBrush}" FontSize="14" Width="20"/>
                        <TextBlock Text="Alternative user credentials" Foreground="{StaticResource TextSecondaryBrush}" FontSize="12"/>
                    </StackPanel>
                </StackPanel>
                
                <TextBlock TextWrapping="Wrap" Foreground="{StaticResource WarningBrush}" FontSize="13" FontWeight="SemiBold">
                    Please contact your System Administrator for assistance.
                </TextBlock>
            </StackPanel>
        </Border>
        
        <!-- Close Button -->
        <Button Grid.Row="2" x:Name="BtnClose" Style="{StaticResource PrimaryButton}" 
                HorizontalAlignment="Stretch" Padding="20,14" Click="BtnClose_Click">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <TextBlock Text="Close" FontSize="14" FontWeight="SemiBold"/>
            </StackPanel>
        </Button>
    </Grid>
</Window>
